"use client";

import * as React from "react";
import { cn } from "@/lib/utils";
import {
  Command,
  CommandEmpty,
  CommandGroup,
  CommandInput,
  CommandItem,
  CommandList,
} from "@/components/ui/command";
import {
  Popover,
  PopoverContent,
  PopoverTrigger,
} from "@/components/ui/popover";
import { SelectCoin } from "./select-coin";

// Bitcoin Icon
const BTCIcon = () => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="28"
    height="28"
    viewBox="0 0 28 28"
    fill="none"
  >
    <g clipPath="url(#clip0_4101_19459)">
      <path
        d="M28 14C28 16.7689 27.1789 19.4757 25.6406 21.778C24.1022 24.0803 21.9157 25.8747 19.3576 26.9343C16.7994 27.9939 13.9845 28.2712 11.2687 27.731C8.55301 27.1908 6.05845 25.8574 4.10051 23.8995C2.14258 21.9416 0.809205 19.447 0.269012 16.7313C-0.271181 14.0155 0.00606592 11.2006 1.06569 8.64243C2.12532 6.08427 3.91973 3.89777 6.22202 2.35943C8.52431 0.821086 11.2311 0 14 0C17.713 0 21.274 1.475 23.8995 4.1005C26.525 6.72601 28 10.287 28 14Z"
        fill="#F7931A"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M9.95034 6.39295L13.1678 7.25458L13.8869 4.57422L15.4956 5.01076L14.8045 7.5804L16.1167 7.93295L16.8091 5.33531L18.4458 5.77313L17.7407 8.38476C17.7407 8.38476 20.4134 8.97658 21.0422 11.1504C21.6709 13.3242 19.66 14.4659 19.0389 14.5091C19.0389 14.5091 21.3807 15.7933 20.5763 18.3197C19.772 20.846 17.3029 21.2979 14.7053 20.7188L14.0002 23.4271L12.3634 22.9893L13.0825 20.3229L11.7843 19.9691L11.0653 22.6546L9.44125 22.218L10.1616 19.5453L6.85889 18.6544L7.69125 16.8064C7.69125 16.8064 8.62289 17.0609 8.97543 17.1449C9.32798 17.2289 9.55452 16.8624 9.6538 16.4959C9.75307 16.1293 11.2485 10.0546 11.3898 9.5544C11.5311 9.05422 11.4738 8.66349 10.8807 8.50949C10.2876 8.35549 9.4807 8.11495 9.4807 8.11495L9.95034 6.39295ZM13.1958 14.4379L12.3049 17.9799C12.3049 17.9799 16.7225 19.5746 17.2876 17.3308C17.8527 15.0869 13.1958 14.4379 13.1958 14.4379ZM13.6056 12.7579L14.48 9.5124C14.48 9.5124 18.2625 10.1895 17.7967 11.9955C17.3309 13.8015 15.1011 13.1091 13.6056 12.7579Z"
        fill="white"
      />
    </g>
    <defs>
      <clipPath id="clip0_4101_19459">
        <rect width="28" height="28" fill="white" />
      </clipPath>
    </defs>
  </svg>
);

// Ethereum Icon
const ETHIcon = () => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="28"
    height="28"
    viewBox="0 0 28 28"
    fill="none"
  >
    <path
      d="M14 28C21.732 28 28 21.732 28 14C28 6.26801 21.732 0 14 0C6.26801 0 0 6.26801 0 14C0 21.732 6.26801 28 14 28Z"
      fill="#627EEA"
    />
    <path
      d="M14.4355 3.5V11.2612L20.9954 14.1925L14.4355 3.5Z"
      fill="white"
      fillOpacity="0.602"
    />
    <path d="M14.4357 3.5L7.875 14.1925L14.4357 11.2612V3.5Z" fill="white" />
    <path
      d="M14.4355 19.2221V24.4957L20.9998 15.4141L14.4355 19.2221Z"
      fill="white"
      fillOpacity="0.602"
    />
    <path
      d="M14.4357 24.4957V19.2212L7.875 15.4141L14.4357 24.4957Z"
      fill="white"
    />
    <path
      d="M14.4355 18.0013L20.9954 14.1924L14.4355 11.2629V18.0013Z"
      fill="white"
      fillOpacity="0.2"
    />
    <path
      d="M7.875 14.1924L14.4357 18.0013V11.2629L7.875 14.1924Z"
      fill="white"
      fillOpacity="0.602"
    />
  </svg>
);

// BNB Icon
const BNBIcon = () => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="28"
    height="28"
    viewBox="0 0 28 28"
    fill="none"
  >
    <rect width="28" height="28" rx="14" fill="#F3BA2F" />
    <path
      d="M15.9452 20.9396V23.2931L13.8934 24.5L11.9021 23.2931V20.9396L13.8934 22.1465L15.9452 20.9396ZM4.9624 12.7931L6.95378 14V18.0431L10.3934 20.0948V22.4483L4.9624 19.25V12.7931ZM22.8245 12.7931V19.25L17.3331 22.4483V20.0948L20.7727 18.0431V14L22.8245 12.7931ZM17.3331 9.59483L19.3848 10.8017V13.1552L15.9452 15.2069V19.3103L13.9538 20.5172L11.9624 19.3103V15.2069L8.40206 13.1552V10.8017L10.4538 9.59483L13.8934 11.6465L17.3331 9.59483ZM8.40206 14.8448L10.3934 16.0517V18.4052L8.40206 17.1983V14.8448ZM19.3848 14.8448V17.1983L17.3934 18.4052V16.0517L19.3848 14.8448ZM6.95378 7.5431L9.0055 8.75L6.95378 9.95689V12.3103L4.9624 11.1034V8.75L6.95378 7.5431ZM20.8331 7.5431L22.8848 8.75V11.1034L20.8331 12.3103V9.95689L18.8417 8.75L20.8331 7.5431ZM13.8934 7.5431L15.9452 8.75L13.8934 9.95689L11.9021 8.75L13.8934 7.5431ZM13.8934 3.5L19.3848 6.69827L17.3934 7.90517L13.9538 5.85345L10.4538 7.90517L8.4624 6.69827L13.8934 3.5Z"
      fill="white"
    />
  </svg>
);

// Cardano Icon
const SOLIcon = () => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="28"
    height="28"
    viewBox="0 0 28 28"
    fill="none"
  >
    <path
      d="M14 0C21.7308 0 28 6.2692 28 14C28 21.7308 21.7308 28 14 28C6.2692 28 0 21.7308 0 14C0 6.2692 6.2692 0 14 0Z"
      fill="black"
    />
  </svg>
);

// XRP Icon
const XRPIcon = () => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="28"
    height="28"
    viewBox="0 0 28 28"
    fill="none"
  >
    <path
      d="M14 28C21.732 28 28 21.732 28 14C28 6.26801 21.732 0 14 0C6.26801 0 0 6.26801 0 14C0 21.732 6.26801 28 14 28Z"
      fill="#23292F"
    />
    <path
      d="M20.1862 7H22.715L17.4519 12.2124C16.5317 13.119 15.2918 13.6272 14 13.6272C12.7082 13.6272 11.4683 13.119 10.5481 12.2124L5.28062 7H7.81375L11.8125 10.9576C12.3948 11.5324 13.1801 11.8546 13.9983 11.8546C14.8164 11.8546 15.6017 11.5324 16.184 10.9576L20.1862 7ZM7.78313 21.4926H5.25L10.5481 16.2487C11.4683 15.3421 12.7082 14.8339 14 14.8339C15.2918 14.8339 16.5317 15.3421 17.4519 16.2487L22.75 21.4918H20.2169L16.1875 17.5C15.6052 16.9252 14.8199 16.603 14.0018 16.603C13.1836 16.603 12.3983 16.9252 11.816 17.5L7.78225 21.4926H7.78313Z"
      fill="white"
    />
  </svg>
);

const ADAIcon = () => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="28"
    height="28"
    viewBox="0 0 28 28"
    fill="none"
  >
    <path
      d="M14 28C21.732 28 28 21.732 28 14C28 6.26801 21.732 0 14 0C6.26801 0 0 6.26801 0 14C0 21.732 6.26801 28 14 28Z"
      fill="#0D1E30"
    />
    <g filter="url(#filter0_d_4221_1152)">
      <path
        d="M13.7595 5.30238C14.1786 5.08625 14.6905 5.58588 14.4682 5.998C14.3378 6.334 13.847 6.42325 13.5967 6.16688C13.3316 5.92188 13.4182 5.43538 13.7595 5.3015V5.30238ZM9.24885 5.78013C9.50347 5.67688 9.82635 5.90613 9.8001 6.18C9.82635 6.47575 9.45885 6.6945 9.19897 6.55363C8.8551 6.42238 8.89447 5.87288 9.24885 5.78013V5.78013ZM18.4871 6.5615C18.089 6.51425 18.026 5.89825 18.4083 5.774C18.7058 5.63225 18.9788 5.89913 19.0226 6.1765C18.9596 6.41275 18.7583 6.62975 18.4871 6.5615V6.5615ZM10.2752 7.66838C10.7013 7.40325 11.3086 7.79788 11.243 8.28525C11.2211 8.77613 10.5578 9.06138 10.1833 8.72888C9.8211 8.46813 9.87622 7.86963 10.2752 7.66838ZM16.7765 7.95013C16.9663 7.46888 17.7363 7.45313 17.9525 7.92213C18.1668 8.287 17.9035 8.73938 17.5228 8.86363C17.018 8.95638 16.5393 8.41913 16.7765 7.95013ZM13.2161 8.8365C13.2117 8.42175 13.595 8.11375 13.9948 8.08488C14.2608 8.13738 14.5496 8.2485 14.6633 8.51188C14.876 8.87588 14.687 9.3755 14.3046 9.54263C14.1296 9.63888 13.9213 9.603 13.7306 9.59163C13.4392 9.45163 13.1933 9.17425 13.2161 8.8365ZM6.50835 9.44025C6.89772 9.204 7.42272 9.63275 7.27485 10.0493C7.19435 10.4089 6.7026 10.555 6.42172 10.3258C6.1216 10.1105 6.16885 9.59338 6.50922 9.43938L6.50835 9.44025ZM20.9126 9.4385C21.2425 9.1865 21.7876 9.47613 21.7473 9.88563C21.7701 10.2593 21.2985 10.5419 20.9712 10.3494C20.6107 10.1893 20.5731 9.64325 20.9126 9.43938V9.4385ZM15.1026 10.1831C15.6468 9.99063 16.2943 10.2208 16.6041 10.6994C17.0136 11.283 16.7966 12.172 16.1605 12.5071C15.5025 12.9035 14.5408 12.5684 14.2967 11.8439C14.0211 11.1964 14.4236 10.3861 15.1017 10.1831H15.1026ZM11.9062 10.247C12.51 9.96701 13.3228 10.2015 13.6142 10.8088C13.9572 11.4003 13.6921 12.2236 13.0787 12.529C12.4645 12.8729 11.5973 12.6121 11.3007 11.9778C10.9673 11.3635 11.2631 10.5296 11.9062 10.247V10.247ZM8.70635 11.3224C8.75272 10.94 9.11935 10.6906 9.48947 10.6644C9.6825 10.6848 9.8629 10.77 10.0012 10.9062C10.1395 11.0425 10.2274 11.2216 10.2507 11.4143C10.2245 11.808 9.9156 12.1913 9.4921 12.1895C9.02572 12.2289 8.6171 11.7721 8.70635 11.3224V11.3224ZM18.1581 10.7484C18.6367 10.4745 19.3008 10.8726 19.2798 11.4134C19.3122 11.9865 18.5772 12.3899 18.1012 12.0539C17.606 11.7739 17.6445 10.9864 18.1581 10.7484ZM10.6068 12.767C11.1651 12.6156 11.8056 12.8746 12.0795 13.3804C12.3796 13.8896 12.2571 14.5966 11.7907 14.9711C11.1913 15.5189 10.088 15.2984 9.76947 14.5511C9.40285 13.866 9.84822 12.9473 10.606 12.7661L10.6068 12.767ZM16.668 12.7644C17.2113 12.6113 17.8501 12.8169 18.1423 13.3043C18.5291 13.8616 18.3445 14.6938 17.7696 15.0525C17.1658 15.4699 16.2331 15.2511 15.9006 14.5984C15.4981 13.9238 15.9032 12.97 16.668 12.7644V12.7644ZM7.00797 13.3996C7.49097 13.2203 8.02647 13.7444 7.83047 14.216C7.71147 14.6448 7.09635 14.804 6.77872 14.4873C6.40685 14.1898 6.54422 13.5291 7.00797 13.3996V13.3996ZM20.1058 14.0839C20.0968 13.8913 20.1641 13.7029 20.2933 13.5596C20.4224 13.4164 20.6028 13.33 20.7953 13.3191C21.1261 13.3716 21.4481 13.6341 21.4218 13.9885C21.4525 14.4566 20.8793 14.7743 20.4733 14.5546C20.2835 14.4593 20.1863 14.2676 20.1058 14.0839ZM4.63235 13.6324C4.92285 13.5073 5.28247 13.7549 5.21597 14.0725C5.20022 14.4321 4.66035 14.5713 4.4626 14.2703C4.2876 14.0611 4.3926 13.74 4.63235 13.6315V13.6324ZM22.9627 13.6245C23.1675 13.4819 23.4965 13.5843 23.577 13.8196C23.7143 14.0769 23.4623 14.4286 23.1683 14.3858C22.7553 14.4225 22.6223 13.8039 22.9627 13.6245ZM12.1853 15.3509C12.9501 15.1558 13.7726 15.7831 13.7778 16.5584C13.8268 17.3415 13.0166 18.0354 12.2343 17.8551C11.6288 17.7589 11.1537 17.1849 11.1738 16.5838C11.1721 16.008 11.6131 15.4725 12.1853 15.3509V15.3509ZM15.2146 15.35C15.9907 15.1365 16.8377 15.7753 16.8255 16.568C16.8666 17.3363 16.0817 18.0074 15.3152 17.8543C14.5933 17.7633 14.0613 16.9836 14.2626 16.2941C14.3641 15.8356 14.7543 15.4629 15.2146 15.3491V15.35ZM9.3731 15.8269C9.91035 15.7368 10.4143 16.3256 10.1965 16.8279C10.0372 17.3634 9.24622 17.5078 8.89622 17.0711C8.48672 16.6511 8.79297 15.8846 9.3731 15.8269V15.8269ZM18.2578 15.8505C18.7373 15.6528 19.3253 16.0605 19.2886 16.5724C19.3078 17.135 18.5816 17.5235 18.1135 17.1945C17.5823 16.8996 17.6795 16.0308 18.2578 15.8505V15.8505ZM20.7411 18.3005C20.5538 17.9566 20.8942 17.5008 21.2836 17.5646C21.4761 17.5611 21.6117 17.7108 21.7351 17.8368C21.7605 18.0406 21.8033 18.2839 21.631 18.4405C21.3973 18.7319 20.868 18.6488 20.7411 18.3005V18.3005ZM6.5066 17.66C6.86972 17.4229 7.3921 17.7773 7.30985 18.1938C7.2661 18.5639 6.7936 18.7748 6.48297 18.5648C6.14872 18.3749 6.16097 17.8333 6.5066 17.66V17.66ZM13.6755 18.4326C14.1506 18.227 14.7561 18.6339 14.7106 19.1484C14.7456 19.7171 13.9975 20.1109 13.5328 19.7696C13.0166 19.4765 13.1032 18.6138 13.6755 18.4326V18.4326ZM10.3557 19.1948C10.76 18.9856 11.3025 19.347 11.2657 19.7933C11.278 20.159 10.9157 20.4705 10.5482 20.4163C10.2446 20.4101 10.0468 20.1415 9.94885 19.8869C9.9541 19.6095 10.0705 19.3006 10.3557 19.1956V19.1948ZM17.081 19.2018C17.4975 18.948 18.089 19.312 18.0496 19.788C18.0601 20.2868 17.3916 20.6053 17.004 20.278C16.6295 20.0216 16.675 19.4056 17.081 19.2018ZM18.2508 22.0455C18.0653 21.7708 18.2832 21.4391 18.5833 21.3761C18.8257 21.4243 19.0821 21.6036 19.0305 21.8784C18.9955 22.252 18.4407 22.3658 18.2508 22.0464V22.0455ZM8.96622 21.8066C9.03972 21.5879 9.21822 21.3718 9.47985 21.4286C9.86047 21.4549 9.97335 22.0201 9.63997 22.1943C9.34072 22.3929 8.99247 22.1208 8.96622 21.8066ZM13.4462 22.0578C13.5188 21.734 13.9432 21.5774 14.2232 21.7489C14.4087 21.8276 14.463 22.0306 14.5102 22.2039C14.4853 22.2939 14.4619 22.3843 14.4402 22.4751C14.3256 22.6081 14.1777 22.742 13.987 22.7376C13.6326 22.7788 13.3123 22.3841 13.4453 22.0578H13.4462Z"
        fill="black"
      />
    </g>
    <path
      d="M13.7595 5.30238C14.1786 5.08625 14.6905 5.58588 14.4682 5.998C14.3378 6.334 13.847 6.42325 13.5967 6.16688C13.3316 5.92188 13.4182 5.43538 13.7595 5.3015V5.30238ZM9.24885 5.78013C9.50347 5.67688 9.82635 5.90613 9.8001 6.18C9.82635 6.47575 9.45885 6.6945 9.19897 6.55363C8.8551 6.42238 8.89447 5.87288 9.24885 5.78013V5.78013ZM18.4871 6.5615C18.089 6.51425 18.026 5.89825 18.4083 5.774C18.7058 5.63225 18.9788 5.89913 19.0226 6.1765C18.9596 6.41275 18.7583 6.62975 18.4871 6.5615V6.5615ZM10.2752 7.66838C10.7013 7.40325 11.3086 7.79788 11.243 8.28525C11.2211 8.77613 10.5578 9.06138 10.1833 8.72888C9.8211 8.46813 9.87622 7.86963 10.2752 7.66838ZM16.7765 7.95013C16.9663 7.46888 17.7363 7.45313 17.9525 7.92213C18.1668 8.287 17.9035 8.73938 17.5228 8.86363C17.018 8.95638 16.5393 8.41913 16.7765 7.95013ZM13.2161 8.8365C13.2117 8.42175 13.595 8.11375 13.9948 8.08488C14.2608 8.13738 14.5496 8.2485 14.6633 8.51188C14.876 8.87588 14.687 9.3755 14.3046 9.54263C14.1296 9.63888 13.9213 9.603 13.7306 9.59163C13.4392 9.45163 13.1933 9.17425 13.2161 8.8365ZM6.50835 9.44025C6.89772 9.204 7.42272 9.63275 7.27485 10.0493C7.19435 10.4089 6.7026 10.555 6.42172 10.3258C6.1216 10.1105 6.16885 9.59338 6.50922 9.43938L6.50835 9.44025ZM20.9126 9.4385C21.2425 9.1865 21.7876 9.47613 21.7473 9.88563C21.7701 10.2593 21.2985 10.5419 20.9712 10.3494C20.6107 10.1893 20.5731 9.64325 20.9126 9.43938V9.4385ZM15.1026 10.1831C15.6468 9.99063 16.2943 10.2208 16.6041 10.6994C17.0136 11.283 16.7966 12.172 16.1605 12.5071C15.5025 12.9035 14.5408 12.5684 14.2967 11.8439C14.0211 11.1964 14.4236 10.3861 15.1017 10.1831H15.1026ZM11.9062 10.247C12.51 9.96701 13.3228 10.2015 13.6142 10.8088C13.9572 11.4003 13.6921 12.2236 13.0787 12.529C12.4645 12.8729 11.5973 12.6121 11.3007 11.9778C10.9673 11.3635 11.2631 10.5296 11.9062 10.247V10.247ZM8.70635 11.3224C8.75272 10.94 9.11935 10.6906 9.48947 10.6644C9.6825 10.6848 9.8629 10.77 10.0012 10.9062C10.1395 11.0425 10.2274 11.2216 10.2507 11.4143C10.2245 11.808 9.9156 12.1913 9.4921 12.1895C9.02572 12.2289 8.6171 11.7721 8.70635 11.3224V11.3224ZM18.1581 10.7484C18.6367 10.4745 19.3008 10.8726 19.2798 11.4134C19.3122 11.9865 18.5772 12.3899 18.1012 12.0539C17.606 11.7739 17.6445 10.9864 18.1581 10.7484ZM10.6068 12.767C11.1651 12.6156 11.8056 12.8746 12.0795 13.3804C12.3796 13.8896 12.2571 14.5966 11.7907 14.9711C11.1913 15.5189 10.088 15.2984 9.76947 14.5511C9.40285 13.866 9.84822 12.9473 10.606 12.7661L10.6068 12.767ZM16.668 12.7644C17.2113 12.6113 17.8501 12.8169 18.1423 13.3043C18.5291 13.8616 18.3445 14.6938 17.7696 15.0525C17.1658 15.4699 16.2331 15.2511 15.9006 14.5984C15.4981 13.9238 15.9032 12.97 16.668 12.7644V12.7644ZM7.00797 13.3996C7.49097 13.2203 8.02647 13.7444 7.83047 14.216C7.71147 14.6448 7.09635 14.804 6.77872 14.4873C6.40685 14.1898 6.54422 13.5291 7.00797 13.3996V13.3996ZM20.1058 14.0839C20.0968 13.8913 20.1641 13.7029 20.2933 13.5596C20.4224 13.4164 20.6028 13.33 20.7953 13.3191C21.1261 13.3716 21.4481 13.6341 21.4218 13.9885C21.4525 14.4566 20.8793 14.7743 20.4733 14.5546C20.2835 14.4593 20.1863 14.2676 20.1058 14.0839ZM4.63235 13.6324C4.92285 13.5073 5.28247 13.7549 5.21597 14.0725C5.20022 14.4321 4.66035 14.5713 4.4626 14.2703C4.2876 14.0611 4.3926 13.74 4.63235 13.6315V13.6324ZM22.9627 13.6245C23.1675 13.4819 23.4965 13.5843 23.577 13.8196C23.7143 14.0769 23.4623 14.4286 23.1683 14.3858C22.7553 14.4225 22.6223 13.8039 22.9627 13.6245ZM12.1853 15.3509C12.9501 15.1558 13.7726 15.7831 13.7778 16.5584C13.8268 17.3415 13.0166 18.0354 12.2343 17.8551C11.6288 17.7589 11.1537 17.1849 11.1738 16.5838C11.1721 16.008 11.6131 15.4725 12.1853 15.3509V15.3509ZM15.2146 15.35C15.9907 15.1365 16.8377 15.7753 16.8255 16.568C16.8666 17.3363 16.0817 18.0074 15.3152 17.8543C14.5933 17.7633 14.0613 16.9836 14.2626 16.2941C14.3641 15.8356 14.7543 15.4629 15.2146 15.3491V15.35ZM9.3731 15.8269C9.91035 15.7368 10.4143 16.3256 10.1965 16.8279C10.0372 17.3634 9.24622 17.5078 8.89622 17.0711C8.48672 16.6511 8.79297 15.8846 9.3731 15.8269V15.8269ZM18.2578 15.8505C18.7373 15.6528 19.3253 16.0605 19.2886 16.5724C19.3078 17.135 18.5816 17.5235 18.1135 17.1945C17.5823 16.8996 17.6795 16.0308 18.2578 15.8505V15.8505ZM20.7411 18.3005C20.5538 17.9566 20.8942 17.5008 21.2836 17.5646C21.4761 17.5611 21.6117 17.7108 21.7351 17.8368C21.7605 18.0406 21.8033 18.2839 21.631 18.4405C21.3973 18.7319 20.868 18.6488 20.7411 18.3005V18.3005ZM6.5066 17.66C6.86972 17.4229 7.3921 17.7773 7.30985 18.1938C7.2661 18.5639 6.7936 18.7748 6.48297 18.5648C6.14872 18.3749 6.16097 17.8333 6.5066 17.66V17.66ZM13.6755 18.4326C14.1506 18.227 14.7561 18.6339 14.7106 19.1484C14.7456 19.7171 13.9975 20.1109 13.5328 19.7696C13.0166 19.4765 13.1032 18.6138 13.6755 18.4326V18.4326ZM10.3557 19.1948C10.76 18.9856 11.3025 19.347 11.2657 19.7933C11.278 20.159 10.9157 20.4705 10.5482 20.4163C10.2446 20.4101 10.0468 20.1415 9.94885 19.8869C9.9541 19.6095 10.0705 19.3006 10.3557 19.1956V19.1948ZM17.081 19.2018C17.4975 18.948 18.089 19.312 18.0496 19.788C18.0601 20.2868 17.3916 20.6053 17.004 20.278C16.6295 20.0216 16.675 19.4056 17.081 19.2018ZM18.2508 22.0455C18.0653 21.7708 18.2832 21.4391 18.5833 21.3761C18.8257 21.4243 19.0821 21.6036 19.0305 21.8784C18.9955 22.252 18.4407 22.3658 18.2508 22.0464V22.0455ZM8.96622 21.8066C9.03972 21.5879 9.21822 21.3718 9.47985 21.4286C9.86047 21.4549 9.97335 22.0201 9.63997 22.1943C9.34072 22.3929 8.99247 22.1208 8.96622 21.8066ZM13.4462 22.0578C13.5188 21.734 13.9432 21.5774 14.2232 21.7489C14.4087 21.8276 14.463 22.0306 14.5102 22.2039C14.4853 22.2939 14.4619 22.3843 14.4402 22.4751C14.3256 22.6081 14.1777 22.742 13.987 22.7376C13.6326 22.7788 13.3123 22.3841 13.4453 22.0578H13.4462Z"
      fill="white"
    />
    <defs>
      <filter
        id="filter0_d_4221_1152"
        x="3.37549"
        y="4.75024"
        width="21.2402"
        height="19.4902"
        filterUnits="userSpaceOnUse"
        colorInterpolationFilters="sRGB"
      >
        <feFlood floodOpacity="0" result="BackgroundImageFix" />
        <feColorMatrix
          in="SourceAlpha"
          type="matrix"
          values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
          result="hardAlpha"
        />
        <feOffset dy="0.5" />
        <feGaussianBlur stdDeviation="0.5" />
        <feColorMatrix
          type="matrix"
          values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.204257 0"
        />
        <feBlend
          mode="normal"
          in2="BackgroundImageFix"
          result="effect1_dropShadow_4221_1152"
        />
        <feBlend
          mode="normal"
          in="SourceGraphic"
          in2="effect1_dropShadow_4221_1152"
          result="shape"
        />
      </filter>
    </defs>
  </svg>
);


const binanceCoins = [
  {
    value: "BINANCE:BTCUSDT",
    label: "BTC/USDT",
    icon: <BTCIcon />,
  },
  {
    value: "BINANCE:ETHUSDT",
    label: "ETH/USDT",
    icon: <ETHIcon />,
  },
  {
    value: "BINANCE:BNBUSDT",
    label: "BNB/USDT",
    icon: <BNBIcon />,
  },
  {
    value: "BINANCE:SOLUSDT",
    label: "SOL/USDT",
    icon: <SOLIcon />,
  },
  {
    value: "BINANCE:XRPUSDT",
    label: "XRP/USDT",
    icon: <XRPIcon />,
  },
  {
    value: "BINANCE:ADAUSDT",
    label: "ADA/USDT",
    icon: <ADAIcon />,
  },
];

interface ExampleComboboxProps {
  value: string;
  onValueChange: (value: string) => void;
}

export function ExampleCombobox({
  value,
  onValueChange,
}: ExampleComboboxProps) {
  const [open, setOpen] = React.useState(false);

  const selectedCoin = binanceCoins.find((coin) => coin.value === value);

  return (
    <Popover open={open} onOpenChange={setOpen}>
      <PopoverTrigger asChild>
        <SelectCoin
          role="combobox"
          aria-expanded={open}
          className="w-[174px] h-[48px] py-[12px] px-[12px] justify-between text-[16px] font-[600] bg-[#16171D] cursor-pointer"
        >
          <div className="flex items-center gap-2">
            {selectedCoin && selectedCoin.icon}
            <span>{selectedCoin ? selectedCoin.label : "Select Coin"}</span>
          </div>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="10"
            height="8"
            viewBox="0 0 10 8"
            fill="none"
          >
            <path
              d="M5.00002 7.23207L0.150879 2.38407L1.76802 0.768066L5.00002 4.00007L8.23202 0.768066L9.84916 2.38407L5.00002 7.23207Z"
              fill="white"
            />
          </svg>
        </SelectCoin>
      </PopoverTrigger>
      <PopoverContent
        className="w-[174px] p-0 border-0 bg-transparent"
        align="start"
        side="bottom"
        sideOffset={4}
      >
        <Command>
          <CommandInput />
          <CommandList>
            <CommandEmpty>No coin found.</CommandEmpty>
            <CommandGroup>
              {binanceCoins.map((coin) => (
                <CommandItem
                  key={coin.value}
                  value={coin.value}
                  onSelect={(currentValue) => {
                    const newValue = currentValue === value ? "" : currentValue;
                    onValueChange(newValue);
                    setOpen(false);
                  }}
                  className={cn(
                    "flex items-center justify-between rounded-[8px]",
                    value === coin.value && "bg-[#323338]"
                  )}
                >
                  <div className="flex items-center gap-2">
                    {coin.icon}
                    <span>{coin.label}</span>
                  </div>
                </CommandItem>
              ))}
            </CommandGroup>
          </CommandList>
        </Command>
      </PopoverContent>
    </Popover>
  );
}
